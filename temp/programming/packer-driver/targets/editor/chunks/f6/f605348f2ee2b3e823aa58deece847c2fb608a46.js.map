{"version":3,"sources":["file:///D:/ThanhPhong/FE02/Project-FrontEnd2/assets/Scripts/UI/FlashUI.ts"],"names":["_decorator","Component","screen","UIOpacity","UITransform","ccclass","property","FlashUI","type","tooltip","uiTransform","flashDuration","flashTimer","isFlashing","start","getComponent","uiElement","opacity","Flash","size","windowSize","setContentSize","x","y","update","dt","t","Math","abs","sin","PI","floor"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,W,OAAAA,W;;;;;;;;;OACnD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;yBAGjBO,O,WADZF,OAAO,CAAC,SAAD,C,UAGHC,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEL,SAAR;AAAmBM,QAAAA,OAAO,EAAE;AAA5B,OAAD,C,2BAHb,MACaF,OADb,SAC6BN,SAD7B,CAEA;AAAA;AAAA;;AAAA;;AAAA,eAIYS,WAJZ;AAAA,eAMYC,aANZ,GAMoC,GANpC;AAMyC;AANzC,eAOYC,UAPZ,GAOiC,CAPjC;AAOoC;AAPpC,eAQYC,UARZ,GAQkC,KARlC;AAAA;;AAQyC;AAE3BC,QAAAA,KAAK,GACf;AACI,eAAKJ,WAAL,GAAkB,KAAKK,YAAL,CAAkBX,WAAlB,CAAlB;AACA,eAAKY,SAAL,CAAeC,OAAf,GAAyB,CAAzB;AACH;;AAEMC,QAAAA,KAAK,GACZ;AAEI,cAAIC,IAAI,GAAGjB,MAAM,CAACkB,UAAlB;AACA,eAAKV,WAAL,CAAiBW,cAAjB,CAAgCF,IAAI,CAACG,CAArC,EAAuCH,IAAI,CAACI,CAA5C;AAEA,eAAKV,UAAL,GAAgB,IAAhB;AACH;;AAESW,QAAAA,MAAM,CAACC,EAAD,EAChB;AACI,cAAG,KAAKZ,UAAR,EACA;AACI,iBAAKD,UAAL,IAAmBa,EAAnB,CADJ,CAGI;;AACA,kBAAMC,CAAC,GAAG,KAAKd,UAAL,GAAkB,KAAKD,aAAjC;AACA,kBAAMM,OAAO,GAAGU,IAAI,CAACC,GAAL,CAASD,IAAI,CAACE,GAAL,CAASH,CAAC,GAAGC,IAAI,CAACG,EAAlB,CAAT,CAAhB,CALJ,CAKqD;AAEjD;;AACA,iBAAKd,SAAL,CAAeC,OAAf,GAAyBU,IAAI,CAACI,KAAL,CAAWd,OAAO,GAAG,GAArB,CAAzB,CARJ,CAUI;;AACA,gBAAI,KAAKL,UAAL,IAAmB,KAAKD,aAA5B,EAA2C;AACvC,mBAAKE,UAAL,GAAkB,KAAlB;AACA,mBAAKD,UAAL,GAAkB,CAAlB,CAFuC,CAIvC;;AACA,mBAAKI,SAAL,CAAeC,OAAf,GAAyB,CAAzB;AACH;AACJ;AACJ;;AA/CL,O","sourcesContent":["import { _decorator, Component, Node, screen, UIOpacity, UITransform, Vec2, View } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('FlashUI')\nexport class FlashUI extends Component \n{\n    @property({ type: UIOpacity, tooltip: \"Add labelBestScore node\", })\n    public uiElement: UIOpacity;          \n    \n    private uiTransform: UITransform;\n\n    private flashDuration: number = 0.2; // Duration of the flash effect in seconds\n    private flashTimer: number = 0; // Timer to control the flash duration\n    private isFlashing: boolean = false; // Flag to track if the flash effect is active\n\n    protected start(): void \n    {\n        this.uiTransform= this.getComponent(UITransform);\n        this.uiElement.opacity = 0;\n    }\n\n    public Flash():void\n    {                \n\n        let size = screen.windowSize;\n        this.uiTransform.setContentSize(size.x,size.y);\n\n        this.isFlashing=true;\n    } \n\n    protected update(dt: number): void \n    {\n        if(this.isFlashing)\n        {\n            this.flashTimer += dt;\n\n            // Calculate the opacity based on the flash timer\n            const t = this.flashTimer / this.flashDuration;\n            const opacity = Math.abs(Math.sin(t * Math.PI)); // Adjust the function for the desired effect\n\n            // Set the opacity of the UI element\n            this.uiElement.opacity = Math.floor(opacity * 255);\n\n            // Check if the flash duration is complete\n            if (this.flashTimer >= this.flashDuration) {\n                this.isFlashing = false;\n                this.flashTimer = 0;\n\n                // Reset the UI element opacity\n                this.uiElement.opacity = 0;\n            }\n        }\n    }\n}\n\n"]}